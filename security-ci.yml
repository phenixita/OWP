# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger: none

pool:
  vmImage: 'windows-latest'

steps:
- task: Armory@2
  inputs:
    targetDirectory: '$(Build.SourcesDirectory)'
    targetFiles: 'f|**\*.json;-|.gdn\**;'

- task: SdtReport@1
  inputs:
    AllTools: true
    BinSkimBreakOn: 'WarningAbove'
    CodesignValidationBreakOn: 'WarningAbove'
    FxCopBreakOn: 'ErrorAbove'
    ModernCopBreakOn: 'WarningAbove'
    PoliCheckBreakOn: 'Severity4Above'
    RoslynAnalyzersBreakOn: 'WarningAbove'
    SemmleBreakOn: 'WarningAbove'
    TSLintBreakOn: 'WarningAbove'
    ToolLogsNotFoundAction: 'Standard'